"use strict";var h=Object.create;var j=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var I=(t,n,p,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of w(n))!R.call(t,o)&&o!==p&&j(t,o,{get:()=>n[o],enumerable:!(r=O(n,o))||r.enumerable});return t};var s=(t,n,p)=>(p=t!=null?h(v(t)):{},I(n||!t||!t.__esModule?j(p,"default",{value:t,enumerable:!0}):p,t));var e=require("node:fs"),i=s(require("node:path")),x=s(require("lodash/fp/template"));var f=require("consola"),F=f.consola.prompt.bind(f.consola),a=F;var T=s(require("dotenv")),d=require("node:child_process"),c=s(require("node:path"));T.config();var K=c.default.join((0,d.execSync)(`cd ${process.env.PROJECT_ROOT_PATH} && pwd`,{encoding:"utf-8"}).replace(`
`,"")),B=c.default.join(K,"./scripts"),l=c.default.join((0,d.execSync)(`cd ${process.env.IKALA_ROOT_PATH} && pwd`,{encoding:"utf-8"}).replace(`
`,""));var y=s(require("lodash/fp/pipe")),P=s(require("lodash/fp/camelCase")),S=s(require("lodash/fp/upperFirst")),u=t=>(0,y.default)(P.default,S.default)(t);var L=i.default.join(__dirname,"templates/index.txt"),$=i.default.join(__dirname,"templates/tsx.txt"),k=(t,n)=>{let p=n.split("/").filter(Boolean),r=i.default.join(t);for(let o of p)r=i.default.join(r,o),(0,e.existsSync)(r)||(0,e.mkdirSync)(r);return r},D=async()=>{let t=(0,e.readdirSync)(i.default.join(l)),n=await a("\u5C08\u6848",{type:"select",options:t}),p=await a("\u8DEF\u5F91",{type:"text"}),r=await a("\u6A94\u6848\u540D\u7A31",{type:"text"}),o=u(r),m=k(i.default.join(l,n.toString()),p),g=(0,e.readFileSync)(L,"utf-8"),A=(0,e.readFileSync)($,"utf-8"),C=(0,x.default)(g)({name:o}),_=(0,x.default)(A)({name:o});(0,e.mkdirSync)(i.default.join(m,o)),(0,e.writeFileSync)(i.default.join(m,o,"index.ts"),C),(0,e.writeFileSync)(i.default.join(m,o,`${o}.tsx`),_)};D();
